function addCommas(r){var n=/(\d+)(\d{3})/;return String(r).replace(/^\d+/,function(r){for(;n.test(r);)r=r.replace(n,"$1,$2");return r})}function validDigits(r,n){var e=(r=r.replace(/[^\d\.]+/g,"")).indexOf("."),t=-1;return-1!=e&&(++e,(t=r.indexOf(".",e))>e&&(r=r.substring(0,t)),"number"==typeof n&&(r=r.substring(0,e+n))),r}